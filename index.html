<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Flag AI Game</title>

<style>
body{
    font-family: Arial;
    background:#eef2ff;
    text-align:center;
    padding:30px;
}
.box{
    background:white;
    padding:20px;
    border-radius:15px;
    max-width:450px;
    margin:auto;
}
.flag{
    font-size:80px;
    margin:15px 0;
}
button{
    width:240px;
    padding:12px;
    margin:8px;
    border:none;
    border-radius:12px;
    background:#4f46e5;
    color:white;
    font-size:16px;
    cursor:pointer;
}
button:hover{
    background:#4338ca;
}
.hidden{
    display:none;
}
</style>
</head>

<body>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π -->
<div class="box" id="menu">
    <h2>üåç Flag AI Game</h2>
    <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°</p>
    <button onclick="startMode('country')">üü® ‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</button><br>
    <button onclick="startMode('continent')">üü¶ ‡∏ó‡∏≤‡∏¢‡∏ó‡∏ß‡∏µ‡∏õ</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
<div class="box hidden" id="game">
    <h2 id="gameTitle">‡πÄ‡∏Å‡∏°</h2>
    <div class="flag" id="flag">üè≥Ô∏è</div>
    <div id="choices"></div>
    <p>
        ‚è± ‡πÄ‡∏ß‡∏•‡∏≤: <span id="time">15</span> |
        ‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span>
    </p>
    <button onclick="backToMenu()">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<script>
// ====================
// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (3 ‡∏ó‡∏ß‡∏µ‡∏õ)
// ====================
const continents = ["Asia","Europe","Africa"];

const countries = [
    // Asia
    {name:"Thailand", flag:"üáπüá≠", continent:"Asia"},
    {name:"Japan", flag:"üáØüáµ", continent:"Asia"},
    {name:"China", flag:"üá®üá≥", continent:"Asia"},
    {name:"South Korea", flag:"üá∞üá∑", continent:"Asia"},
    {name:"India", flag:"üáÆüá≥", continent:"Asia"},
    {name:"Indonesia", flag:"üáÆüá©", continent:"Asia"},

    // Europe
    {name:"France", flag:"üá´üá∑", continent:"Europe"},
    {name:"Germany", flag:"üá©üá™", continent:"Europe"},
    {name:"Italy", flag:"üáÆüáπ", continent:"Europe"},
    {name:"Spain", flag:"üá™üá∏", continent:"Europe"},
    {name:"United Kingdom", flag:"üá¨üáß", continent:"Europe"},
    {name:"Netherlands", flag:"üá≥üá±", continent:"Europe"},

    // Africa
    {name:"Egypt", flag:"üá™üá¨", continent:"Africa"},
    {name:"Nigeria", flag:"üá≥üá¨", continent:"Africa"},
    {name:"Kenya", flag:"üá∞üá™", continent:"Africa"},
    {name:"South Africa", flag:"üáøüá¶", continent:"Africa"},
    {name:"Morocco", flag:"üá≤üá¶", continent:"Africa"}
];

// ====================
// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£
// ====================
let mode = "";
let score = 0;
let time = 15;
let timer;
let current;

// ====================
function randomItem(arr){
    return arr[Math.floor(Math.random()*arr.length)];
}

// ====================
// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Å‡∏°
// ====================
function startMode(selectedMode){
    mode = selectedMode;
    score = 0;

    document.getElementById("score").innerText = score;
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");

    document.getElementById("gameTitle").innerText =
        mode === "country"
        ? "üü® ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°: ‡∏ó‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®"
        : "üü¶ ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°: ‡∏ó‡∏≤‡∏¢‡∏ó‡∏ß‡∏µ‡∏õ";

    startRound();
}

// ====================
function startRound(){
    clearInterval(timer);
    time = 15;
    document.getElementById("time").innerText = time;

    current = randomItem(countries);
    document.getElementById("flag").innerText = current.flag;

    createChoices();
    timer = setInterval(countdown,1000);
}

// ====================
function createChoices(){
    const box = document.getElementById("choices");
    box.innerHTML = "";
    let options = [];

    if(mode === "continent"){
        options = [...continents];
    }else{
        options = countries
            .filter(c => c.continent === current.continent)
            .map(c => c.name);

        options = options.sort(()=>0.5-Math.random()).slice(0,3);
        if(!options.includes(current.name)){
            options[0] = current.name;
        }
    }

    options = options.sort(()=>0.5-Math.random());

    options.forEach(opt=>{
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = ()=>checkAnswer(opt);
        box.appendChild(btn);
    });
}

// ====================
function checkAnswer(ans){
    if(ans === current.name || ans === current.continent){
        score += 10;
        document.getElementById("score").innerText = score;
    }
    startRound();
}

// ====================
function countdown(){
    time--;
    document.getElementById("time").innerText = time;
    if(time <= 0){
        startRound();
    }
}

// ====================
function backToMenu(){
    clearInterval(timer);
    document.getElementById("game").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
}
</script>

</body>
</html>
